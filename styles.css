:root {
  color-scheme: light;
  --bg: #f4f7fb;
  --card: #ffffff;
  --text: #10233a;
  --accent: #1266f1;
  --red: #e03b3b;
  --blue: #2f7de1;
  --error-bg: #ffe8e8;
  --error-text: #b3261e;
  --border: #d9e2ee;
}

* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: "Hiragino Kaku Gothic ProN", "Yu Gothic", sans-serif;
  background: radial-gradient(circle at top right, #e7f0ff 0%, #f4f7fb 40%);
  color: var(--text);
}
.container { width: min(1400px, 96vw); margin: 20px auto 34px; display: grid; gap: 14px; }
h1,h2 { margin: 0; }
.note { background:#e9f1ff; border-left:4px solid var(--accent); padding:10px 12px; border-radius:8px; margin:0; }
.card { background:var(--card); border:1px solid var(--border); border-radius:12px; padding:14px; box-shadow:0 4px 14px rgba(10,28,54,.06); }

.three-col { display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap:12px; align-items:start; }
.title-a { color: var(--red); }
.title-b { color: var(--blue); }

#distance-form { display:grid; gap:12px; }
.field { display:grid; gap:5px; margin-bottom: 8px; }
label { font-weight:700; }
.range-row { display:grid; grid-template-columns: 1fr auto; gap: 10px; align-items:center; }
input[type="range"] { width:100%; }
output { min-width:66px; text-align:right; font-weight:700; color:#1e4f8a; }
small { color:#49627d; }
.inline-metric { display:flex; justify-content:space-between; background:#edf5ff; border:1px solid #d7e5ff; border-radius:10px; padding:8px 10px; font-weight:700; }
.inline-metric strong { font-size:1.05rem; }

.toggle { display:flex; align-items:center; gap:8px; margin:8px 0 10px; }
#groupB.disabled { opacity:.45; pointer-events:none; }

button { border:none; border-radius:8px; background:var(--accent); color:#fff; font-size:15px; font-weight:700; padding:10px; cursor:pointer; width:100%; margin-bottom:10px; }
.error { display:none; margin:0 0 10px 0; background:var(--error-bg); color:var(--error-text); border-left:4px solid var(--error-text); padding:8px 10px; border-radius:8px; }
.error.show { display:block; }

.result-list { list-style:none; margin:8px 0; padding:0; display:grid; gap:6px; }
.result-list li { display:flex; justify-content:space-between; background:#f7fbff; border:1px solid #dce7f5; border-radius:8px; padding:8px 10px; }
.result-list.diff li { background:#f4f7ff; }
.result-list strong { font-variant-numeric: tabular-nums; }

.trajectory-panel { width:100%; overflow:auto; }
canvas { width:100%; height:auto; display:block; background: linear-gradient(to bottom, #16385f 0%, #132d49 55%, #1f4a32 56%, #2a6d43 100%); border-radius:10px; border:1px solid #173f65; }

@media (max-width: 1100px) {
  .three-col { grid-template-columns: 1fr; }
}
