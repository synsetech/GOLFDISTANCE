<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ゴルフボール飛距離シミュレーター ミドルアイアン</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body data-mode="middle-iron">
    <main class="container">
      <h1>ゴルフボール飛距離シミュレーター ミドルアイアン</h1>
      <p class="note">
        ※ ミドルアイアン〜ウェッジ向け設定（ヘッドスピード15.0〜45.0m/s、ミート率1.10〜1.50、打ち出し角12.0〜40.0度、スピン3000〜10000rpm）で比較できます。
      </p>

      <nav class="page-tabs" aria-label="ページ切り替え">
        <a class="tab-link" href="index.html">ドライバー&ウッド</a>
        <a class="tab-link active" href="middle-iron.html" aria-current="page">ミドルアイアン</a>
        <a class="tab-link" href="pro.html">Pro版 (3D・高精度)</a>
      </nav>

      <datalist id="ironLaunchAngleTicks">
        <option value="14" label="7i"></option>
        <option value="16" label="8i"></option>
        <option value="18" label="9i"></option>
        <option value="20" label="P"></option>
        <option value="24" label="GW"></option>
        <option value="28" label="SW"></option>
      </datalist>


      <section class="input-grid single-input" aria-label="入力">
        <article class="card">
          <div class="card-head">
            <h2>入力</h2>
          </div>
          <form id="distance-form" class="distance-form" novalidate>
            <div class="field">
              <div class="field-head"><label for="headSpeed">ヘッドスピード（m/s）</label><span class="range-note">15.0〜45.0</span></div>
              <div class="range-row">
                <input id="headSpeed" name="headSpeed" type="range" min="15" max="45" step="0.1" value="30" required />
                <output id="headSpeedValue" for="headSpeed">30.0</output>
              </div>
            </div>

            <div class="inline-metric" aria-live="polite">
              <span>ボール初速（ヘッドスピード × ミート率）</span>
              <strong id="ballSpeedPreview">-</strong>
            </div>

            <div class="field">
              <div class="field-head"><label for="smashFactor">ミート率</label><span class="range-note">1.10〜1.50</span></div>
              <div class="range-row">
                <input id="smashFactor" name="smashFactor" type="range" min="1.1" max="1.5" step="0.01" value="1.20" required />
                <output id="smashFactorValue" for="smashFactor">1.20</output>
              </div>
            </div>

            <div class="field">
              <div class="field-head"><label for="launchAngle">打ち出し角（度）</label></div>
              <div class="range-row">
                <div class="range-input-stack">
                  <input id="launchAngle" name="launchAngle" type="range" min="12" max="40" step="0.1" value="20" list="ironLaunchAngleTicks" required />
                  <div class="launch-angle-marks" aria-hidden="true">
                    <span style="--pos:7.1%">7i</span>
                    <span style="--pos:14.3%">8i</span>
                    <span style="--pos:21.4%">9i</span>
                    <span style="--pos:28.6%">P</span>
                    <span style="--pos:42.9%">GW</span>
                    <span style="--pos:57.1%">SW</span>
                  </div>
                </div>
                <output id="launchAngleValue" for="launchAngle">20.0°</output>
              </div>
            </div>

            <div class="field">
              <div class="field-head"><label for="windSpeed">風向風速（m/s）</label><span class="range-note">-7.0〜+7.0</span></div>
              <div class="range-row">
                <input id="windSpeed" name="windSpeed" type="range" min="-7" max="7" step="0.5" value="0" required />
                <output id="windSpeedValue" for="windSpeed">0.0</output>
              </div>
              <div class="wind-help">-7.0（アゲインスト）〜 +7.0（フォロー）※中央0</div>
            </div>

            <div class="field">
              <div class="field-head"><label for="spinRate">スピンレート（rpm）</label><span class="range-note">3000〜10000</span></div>
              <div class="range-row">
                <input id="spinRate" name="spinRate" type="range" min="3000" max="10000" step="50" value="5000" required />
                <output id="spinRateValue" for="spinRate">5000</output>
              </div>
            </div>

            <p id="error-message" class="error" aria-live="polite"></p>

            <div class="action-row">
              <button type="submit">計算する</button>
              <button type="button" id="reset-form" class="secondary-btn">リセット</button>
            </div>
          </form>
        </article>
      </section>

      <section class="card ad-space" aria-label="広告スペース">
        <h2>広告スペース</h2>
        <div class="ad-placeholder">Ad / Sponsored</div>
      </section>

      <section class="card result-card">
        <h2>軌道計算</h2>

        <div class="trajectory-panel">
          <canvas id="trajectoryCanvas" width="800" height="420" aria-label="側面からの2D弾道図"></canvas>
        </div>

        <ul class="result-list compare-list">
          <li>
            <span>最大到達点</span>
            <div class="compare-values"><strong id="maxHeightResultPrevious">一つ前: -</strong><strong id="maxHeightResultCurrent">現在: -</strong></div>
          </li>
          <li>
            <span>キャリー距離</span>
            <div class="compare-values"><strong id="carryResultPrevious">一つ前: -</strong><strong id="carryResultCurrent">現在: -</strong></div>
          </li>
          <li>
            <span>トータル距離</span>
            <div class="compare-values"><strong id="totalResultPrevious">一つ前: -</strong><strong id="totalResultCurrent">現在: -</strong></div>
          </li>
        </ul>
      </section>
    </main>

    <footer class="site-footer">
      <div class="footer-inner">
        <small>© 2026 GolfDistance.jp</small>
      </div>
    </footer>

    <script src="script.js"></script>
  </body>
</html>
